# G-RAG 测试用例集

## 快速开始测试

### 1. 基础功能验证

#### 测试步骤：
1. 访问 `http://localhost:3200/mindmap-test`
2. 上传测试文件 `complex-mindmap.opml`
3. 记录返回的图ID
4. 执行基础搜索测试

#### 预期结果：
- 文件上传成功
- 解析出100+个节点
- 生成唯一图ID

### 2. G-RAG单次测试用例

#### 测试用例2.1：基础关键词搜索
**查询**: `技术架构`
**预期结果**:
- 找到根节点匹配
- 返回相关上下文节点
- 处理时间 < 500ms

#### 测试用例2.2：具体技术搜索
**查询**: `React`
**预期结果**:
- 找到React相关节点
- 包含组件化、虚拟DOM等子节点
- 上下文包含前端框架分类

#### 测试用例2.3：深层节点搜索
**查询**: `组件化开发`
**预期结果**:
- 找到叶子节点
- 上下文包含React父节点
- 层级关系正确

#### 测试用例2.4：多匹配搜索
**查询**: `数据库`
**预期结果**:
- 找到多个相关节点（关系型、NoSQL、图数据库）
- 每个匹配都有对应上下文
- 结果按相关性排序

### 3. G-RAG批量测试用例

#### 测试用例3.1：技术栈批量查询
**查询集**:
```
前端技术栈
后端技术栈
数据库技术
云服务平台
DevOps工具链
```

**预期结果**:
- 所有查询都成功
- 每个查询都有匹配结果
- 平均处理时间 < 200ms

#### 测试用例3.2：具体技术批量查询
**查询集**:
```
React
Vue.js
Angular
Node.js
Python
Java
MySQL
MongoDB
Redis
Docker
Kubernetes
```

**预期结果**:
- 成功率 > 90%
- 每个技术都能找到对应节点
- 上下文信息完整

#### 测试用例3.3：混合查询测试
**查询集**:
```
框架选择
状态管理
构建工具
编程语言
API设计
认证授权
版本控制
CI/CD
容器化
监控运维
```

**预期结果**:
- 涵盖不同层级的节点
- 搜索结果多样化
- 系统稳定运行

### 4. G-RAG性能测试用例

#### 测试用例4.1：轻量级性能测试
**配置**: 10次迭代
**预期结果**:
- 成功率 = 100%
- 平均响应时间 < 100ms
- 无系统错误

#### 测试用例4.2：中等负载性能测试
**配置**: 50次迭代
**预期结果**:
- 成功率 > 95%
- 平均响应时间 < 200ms
- 系统稳定

#### 测试用例4.3：高负载性能测试
**配置**: 100次迭代
**预期结果**:
- 成功率 > 90%
- 平均响应时间 < 500ms
- 无内存泄漏

### 5. 边界条件测试

#### 测试用例5.1：空查询测试
**查询**: `""`
**预期结果**:
- 返回错误信息
- 不崩溃系统

#### 测试用例5.2：不存在关键词测试
**查询**: `不存在的技术`
**预期结果**:
- 返回空结果
- 处理正常

#### 测试用例5.3：特殊字符测试
**查询**: `@#$%^&*()`
**预期结果**:
- 正常处理
- 返回空结果或错误信息

#### 测试用例5.4：长查询测试
**查询**: `这是一个非常长的查询字符串用来测试系统对长查询的处理能力和性能表现`
**预期结果**:
- 正常处理
- 响应时间合理

### 6. 质量评估测试

#### 测试用例6.1：上下文完整性测试
**方法**: 
1. 搜索 `React`
2. 检查返回的上下文节点
3. 验证包含：
   - 父节点：框架选择
   - 子节点：组件化开发、虚拟DOM、生态系统丰富
   - 同级节点：Vue.js、Angular

#### 测试用例6.2：层级关系测试
**方法**:
1. 搜索不同层级的节点
2. 验证层级信息正确
3. 检查父子关系准确

#### 测试用例6.3：搜索相关性测试
**查询对比**:
- `前端` vs `前端技术栈`
- `数据库` vs `关系型数据库`
- `容器` vs `容器化`

**评估标准**:
- 更具体的查询返回更精确的结果
- 相关性评分合理

### 7. 压力测试用例

#### 测试用例7.1：并发查询测试
**方法**:
1. 同时发起多个G-RAG查询
2. 监控系统资源使用
3. 检查响应时间变化

#### 测试用例7.2：大数据量测试
**方法**:
1. 上传包含1000+节点的OPML文件
2. 执行G-RAG测试
3. 评估性能影响

### 8. 回归测试用例

#### 测试用例8.1：基础功能回归
**目标**: 确保新功能不影响原有功能
**测试内容**:
- OPML解析功能
- 关键词搜索功能
- 子图查询功能

#### 测试用例8.2：API兼容性测试
**目标**: 确保API接口向后兼容
**测试内容**:
- 原有API接口正常工作
- 返回数据格式一致
- 错误处理机制正常

## 测试数据准备

### 标准测试文件
1. `sample-mindmap.opml` - 基础测试文件
2. `complex-mindmap.opml` - 复杂结构测试文件

### 测试查询集
1. **基础查询集**: 包含常见关键词
2. **技术查询集**: 包含具体技术名称
3. **层级查询集**: 包含不同层级的节点
4. **边界查询集**: 包含边界条件测试

## 测试执行检查清单

### 测试前准备
- [ ] 后端服务正常运行
- [ ] 前端页面可访问
- [ ] 测试数据文件准备完毕
- [ ] DynamoDB连接正常

### 功能测试
- [ ] OPML文件上传成功
- [ ] 图数据解析正确
- [ ] 关键词搜索正常
- [ ] 子图查询正常
- [ ] G-RAG单次测试正常
- [ ] G-RAG批量测试正常
- [ ] G-RAG性能测试正常

### 质量检查
- [ ] 搜索结果相关性高
- [ ] 上下文信息完整
- [ ] 响应时间符合要求
- [ ] 错误处理正确
- [ ] 系统稳定性良好

### 性能验证
- [ ] 单次查询 < 500ms
- [ ] 批量查询平均 < 200ms
- [ ] 成功率 > 90%
- [ ] 无内存泄漏
- [ ] 无系统崩溃

## 问题记录模板

### 问题描述
- 问题类型：[功能/性能/质量]
- 测试用例：[用例编号]
- 复现步骤：[详细步骤]
- 预期结果：[期望的结果]
- 实际结果：[实际发生的情况]
- 严重程度：[高/中/低]

### 解决方案
- 根本原因：[问题的根本原因]
- 解决方案：[具体的解决方法]
- 验证结果：[修复后的验证结果]
- 影响范围：[修复的影响范围]
